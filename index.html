<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <title>Portal Aduan Pelajar - SEMSIRA</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f4f6f9; transition: background 0.3s, color 0.3s; }
    header { background:#002147; color:#fff; padding:15px; display:flex; align-items:center; justify-content:space-between; }
    header img { height:60px; margin-right:15px; }
    header h1 { margin:0; font-size:22px; }
    .container { max-width:800px; margin:20px auto; background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    h2 { color:#002147; }
    form input, form textarea, button { width:100%; padding:10px; margin:8px 0; border:1px solid #ccc; border-radius:5px; }
    button { background:#002147; color:#fff; cursor:pointer; }
    button:hover { background:#004080; }
    .status-box { margin-top:20px; padding:15px; border-radius:6px; display:none; }
    .status-selesai { background:#d4edda; color:#155724; }
    .status-proses { background:#fff3cd; color:#856404; }
    .status-ditolak { background:#f8d7da; color:#721c24; }
    .dark-mode { background:#1e1e1e; color:#e0e0e0; }
    .dark-mode header { background:#111; }
    .dark-mode .container { background:#2c2c2c; color:#e0e0e0; }
  </style>
</head>
<body>
  <header>
    <div style="display:flex; align-items:center;">
      <img src="logo.png" alt="Logo Sekolah">
      <h1>Portal Aduan Pelajar - SEMSIRA</h1>
    </div>
    <button onclick="toggleDarkMode()">ðŸŒ™</button>
  </header>

  <div class="container">
    <h2>Hantar Aduan</h2>
    <form id="aduanForm">
      <input type="text" id="nama" placeholder="Nama Pelajar" required>
      <textarea id="aduan" placeholder="Tulis aduan anda di sini..." required></textarea>
      <button type="submit">Hantar Aduan</button>
    </form>
    <p id="aduanID"></p>

    <h2>Semak Status Aduan</h2>
    <input type="text" id="checkID" placeholder="Masukkan Nombor Aduan">
    <button onclick="semakAduan()">Semak</button>
    <div id="statusBox" class="status-box"></div>
  </div>

  <script>
    // Dark Mode
    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }

    // Simpan Aduan
    document.getElementById("aduanForm").addEventListener("submit", function(e){
      e.preventDefault();
      const nama = document.getElementById("nama").value;
      const aduan = document.getElementById("aduan").value;
      const masa = new Date().toLocaleString("ms-MY");

      let aduanList = JSON.parse(localStorage.getItem("aduanList")) || [];
      const id = "ADUAN-" + String(aduanList.length+1).padStart(3,'0');
      const data = { id, nama, aduan, status:"Dalam Proses", masa };

      aduanList.push(data);
      localStorage.setItem("aduanList", JSON.stringify(aduanList));

      document.getElementById("aduanID").innerText = "Aduan berjaya dihantar! Nombor Aduan anda: " + id;
      document.getElementById("aduanForm").reset();
    });

    // Semak Aduan
    function semakAduan(){
      const id = document.getElementById("checkID").value.trim();
      const aduanList = JSON.parse(localStorage.getItem("aduanList")) || [];
      const result = aduanList.find(a => a.id === id);

      const box = document.getElementById("statusBox");
      if(result){
        box.style.display = "block";
        if(result.status === "Selesai") box.className = "status-box status-selesai";
        else if(result.status === "Ditolak") box.className = "status-box status-ditolak";
        else box.className = "status-box status-proses";
        box.innerHTML = `<b>ID:</b> ${result.id}<br><b>Status:</b> ${result.status}<br><b>Aduan:</b> ${result.aduan}<br><b>Tarikh:</b> ${result.masa}`;
      }else{
        box.style.display = "block";
        box.className = "status-box status-ditolak";
        box.innerText = "Nombor aduan tidak ditemui!";
      }
    }
  </script>
</body>
</html>

